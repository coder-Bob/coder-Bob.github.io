(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-58c04c65"],{"3f6b":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex-col"},[a("el-form",{staticClass:"query-box",attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"上架时间"}},[a("el-date-picker",{attrs:{type:"datetimerange",align:"right","start-placeholder":"开始时间","end-placeholder":"结束时间",format:"yyyy-MM-dd HH:mm","value-format":"yyyy-MM-dd HH:mm","default-time":["6:00:00","19:00:00"]},model:{value:e.query.createDate,callback:function(t){e.$set(e.query,"createDate",t)},expression:"query.createDate"}})],1),a("el-form-item",{attrs:{label:"商品类别"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.query.type,callback:function(t){e.$set(e.query,"type",t)},expression:"query.type"}},e._l(e.goodsMap,function(e){return a("el-option",{attrs:{label:e.label,value:e.value}})}),1)],1),a("el-form-item",[a("el-input",{attrs:{placeholder:"搜索商品名",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.query.name,callback:function(t){e.$set(e.query,"name",t)},expression:"query.name"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},nativeOn:{click:function(t){return e.search(t)}},slot:"append"})],1)],1)],1),a("v-table",{attrs:{size:e.params.size,page:e.params.page,data:e.table.data,total:e.table.total,loading:e.table.loading},on:{pageChage:e.getData,"update:page":function(t){return e.$set(e.params,"page",t)}}},[a("el-table-column",{attrs:{label:"上架时间",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-time"}),e._v("\n                "+e._s(t.row.createDate)+"\n            ")]}}])}),a("el-table-column",{attrs:{label:"商品名称",prop:"name",align:"center"}}),a("el-table-column",{attrs:{label:"商品类别",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(e.translator(t.row.type,e.goodsMap))+"\n            ")]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"350"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{plain:"",type:"info",icon:"el-icon-view"},on:{click:function(a){return e.handleView(t.row)}}},[e._v("查看\n                ")]),a("el-button",{attrs:{plain:"",type:"primary",icon:"el-icon-edit"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("编辑\n                ")]),a("el-button",{attrs:{plain:"",type:t.row.status?"warning":"success",icon:t.row.status?"el-icon-remove-outline":"el-icon-circle-check-outline"},on:{click:function(a){return e.handleStatus(t.row)}}},[e._v("\n                    "+e._s(t.row.status?"下架":"上架")+"\n                ")]),a("el-button",{attrs:{plain:"",type:"danger",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除\n                ")])]}}])})],1),a("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{title:e.dialogTitle,center:"",visible:e.dialog,width:"460px"},on:{"update:visible":function(t){e.dialog=t},close:e.closeDialogCallBack}},[a("el-form",{ref:"form",attrs:{model:e.formData,"status-icon":"",rules:e.rules,"label-width":"85px"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitForm(t)}}},[a("el-form-item",{attrs:{label:"商品名:",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入商品名称","auto-complete":"off",disabled:e.isView},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"商户:",prop:"business"}},[a("el-input",{attrs:{placeholder:"请输入商户名称","auto-complete":"off",disabled:e.isView},model:{value:e.formData.business,callback:function(t){e.$set(e.formData,"business",t)},expression:"formData.business"}})],1),a("el-form-item",{attrs:{label:"单价:",prop:"price"}},[a("el-input",{attrs:{placeholder:"请输入商品单价","auto-complete":"off",disabled:e.isView},model:{value:e.formData.price,callback:function(t){e.$set(e.formData,"price",e._n(t))},expression:"formData.price"}},[a("template",{slot:"append"},[e._v("元/斤")])],2)],1),a("el-form-item",{attrs:{label:"备注:"}},[a("el-input",{attrs:{type:"textarea",disabled:e.isView,autosize:{minRows:3,maxRows:3},placeholder:"备注"},model:{value:e.formData.notes,callback:function(t){e.$set(e.formData,"notes",t)},expression:"formData.notes"}})],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialog=!1}}},[e._v("取 消")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.isView,expression:"!isView"}],attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")])],1)],1)],1)},r=[],i=a("5176"),l=a.n(i),o=a("b6ba"),s=a("365c"),c=a("ed08"),u=a("1d4b"),f={name:"goodsManage",data:function(){return{params:{size:20,page:1},table:{data:[],total:0,loading:!1},query:{createDate:"",type:"",name:""},goodsMap:u["d"],translator:c["m"],dialogTitle:"",dialog:!1,isView:!1,formData:{name:"",business:"",price:"",notes:""},rules:{name:[{required:!0,message:"请输入商品名称",trigger:"blur"}],business:[{required:!0,message:"请输入商户名称",trigger:"blur"}],price:[{required:!0,message:"请输入商品单价",trigger:"blur"},{type:"number",message:"单价必须为数字值",trigger:"blur"}]},rowData:null}},created:function(){this.getData()},methods:{getData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params;this.table.loading=!0,Object(s["a"])(t).then(function(t){Object(c["i"])(t,function(t){e.table.data=t.data,e.table.total=t.total})}).catch(function(t){throw e.$message({type:"error",message:u["c"]}),Error(t)}).finally(function(){e.table.loading=!1})},search:function(){this.params.page=1,this.getData(l()(this.params,this.query))},openDialog:function(){this.dialog=!0,Object(c["c"])(this.formData,this.rowData)},closeDialogCallBack:function(){var e=this;this.$refs["form"].resetFields(),setTimeout(function(){e.formData.notes="",e.isView=!1},200)},handleView:function(e){this.dialogTitle="查看",this.isView=!0,this.rowData=e,this.openDialog()},handleEdit:function(e){this.dialogTitle="编辑",this.rowData=e,this.openDialog()},handleDelete:function(e){var t=this;this.$confirm("确定要删除该商品?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$notify({title:"提示",message:"删除成功",type:"success",duration:800,showClose:!1})})},submitForm:function(){},handleStatus:function(e){var t=this,a="";a=e.status?"下架":"上架",this.$confirm("确定要"+a+"该商品？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.status=!e.status,t.$notify({title:"提示",message:a+"成功",type:"success",duration:800,showClose:!1})})}},components:{vTable:o["a"]}},p=f,d=a("2877"),m=Object(d["a"])(p,n,r,!1,null,null,null);t["default"]=m.exports},"3f74":function(e,t,a){"use strict";var n=a("96ff"),r=a.n(n);r.a},"96ff":function(e,t,a){},aa77:function(e,t,a){var n=a("5ca1"),r=a("be13"),i=a("79e5"),l=a("fdef"),o="["+l+"]",s="​",c=RegExp("^"+o+o+"*"),u=RegExp(o+o+"*$"),f=function(e,t,a){var r={},o=i(function(){return!!l[e]()||s[e]()!=s}),c=r[e]=o?t(p):l[e];a&&(r[a]=c),n(n.P+n.F*o,"String",r)},p=f.trim=function(e,t){return e=String(r(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(u,"")),e};e.exports=f},b6ba:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"v-table"},[a("el-table",{attrs:{stripe:"",data:e.data}},[a("el-table-column",{attrs:{label:"序号",type:"index",index:e.getIndex,align:"center"}}),e._t("default")],2),a("el-pagination",{attrs:{"current-page":e.page,"page-size":e.size,layout:e.layout,total:e.total},on:{"current-change":e.currentChange}})],1)},r=[],i=(a("c5f6"),{name:"vTable",props:{data:{type:Array,default:function(){return[]}},total:{type:Number,default:0},loading:{type:Boolean,default:!0},page:{type:Number,default:1},layout:{default:"total, prev, pager, next, jumper"},size:{type:Number,default:10}},data:function(){return{}},methods:{currentChange:function(e){this.$emit("update:page",e),this.$emit("pageChage")},getIndex:function(e){return(this.page-1)*this.size+e+1}}}),l=i,o=(a("3f74"),a("2877")),s=Object(o["a"])(l,n,r,!1,null,null,null);t["a"]=s.exports},c5f6:function(e,t,a){"use strict";var n=a("7726"),r=a("69a8"),i=a("2d95"),l=a("5dbc"),o=a("6a99"),s=a("79e5"),c=a("9093").f,u=a("11e9").f,f=a("86cc").f,p=a("aa77").trim,d="Number",m=n[d],g=m,b=m.prototype,h=i(a("2aeb")(b))==d,y="trim"in String.prototype,v=function(e){var t=o(e,!1);if("string"==typeof t&&t.length>2){t=y?t.trim():p(t,3);var a,n,r,i=t.charCodeAt(0);if(43===i||45===i){if(a=t.charCodeAt(2),88===a||120===a)return NaN}else if(48===i){switch(t.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+t}for(var l,s=t.slice(2),c=0,u=s.length;c<u;c++)if(l=s.charCodeAt(c),l<48||l>r)return NaN;return parseInt(s,n)}}return+t};if(!m(" 0o1")||!m("0b1")||m("+0x1")){m=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof m&&(h?s(function(){b.valueOf.call(a)}):i(a)!=d)?l(new g(v(t)),a,m):v(t)};for(var w,k=a("9e1e")?c(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),D=0;k.length>D;D++)r(g,w=k[D])&&!r(m,w)&&f(m,w,u(g,w));m.prototype=b,b.constructor=m,a("2aba")(n,d,m)}},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-58c04c65.ad4a5d39.js.map