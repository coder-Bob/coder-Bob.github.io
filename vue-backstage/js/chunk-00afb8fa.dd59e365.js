(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00afb8fa"],{"1af6":function(e,t,a){var n=a("63b6");n(n.S,"Array",{isArray:a("9003")})},"20fd":function(e,t,a){"use strict";var n=a("d9f6"),i=a("aebd");e.exports=function(e,t,a){t in e?n.f(e,t,i(0,a)):e[t]=a}},"3f74":function(e,t,a){"use strict";var n=a("96ff"),i=a.n(n);i.a},"549b":function(e,t,a){"use strict";var n=a("d864"),i=a("63b6"),r=a("241e"),o=a("b0dc"),l=a("3702"),s=a("b447"),c=a("20fd"),u=a("7cd6");i(i.S+i.F*!a("4ee1")(function(e){Array.from(e)}),"Array",{from:function(e){var t,a,i,d,f=r(e),p="function"==typeof this?this:Array,h=arguments.length,b=h>1?arguments[1]:void 0,m=void 0!==b,g=0,v=u(f);if(m&&(b=n(b,h>2?arguments[2]:void 0,2)),void 0==v||p==Array&&l(v))for(t=s(f.length),a=new p(t);t>g;g++)c(a,g,m?b(f[g],g):f[g]);else for(d=v.call(f),a=new p;!(i=d.next()).done;g++)c(a,g,m?o(d,b,[i.value,g],!0):i.value);return a.length=g,a}})},"54a1":function(e,t,a){a("6c1c"),a("1654"),e.exports=a("95d5")},"6be0":function(e,t,a){"use strict";var n=a("988f"),i=a.n(n);i.a},"774e":function(e,t,a){e.exports=a("d2d5")},"95d5":function(e,t,a){var n=a("40c3"),i=a("5168")("iterator"),r=a("481b");e.exports=a("584a").isIterable=function(e){var t=Object(e);return void 0!==t[i]||"@@iterator"in t||r.hasOwnProperty(n(t))}},"96ff":function(e,t,a){},"988f":function(e,t,a){},a3a0:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex-col"},[a("div",{staticClass:"button-group"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus"},on:{click:e.handleAdd}},[e._v("新增\n        ")])],1),a("v-table",{attrs:{size:e.params.size,page:e.params.page,data:e.data,total:e.total,loading:!1},on:{"update:page":function(t){return e.$set(e.params,"page",t)}}},[a("el-table-column",{attrs:{prop:"name",label:"角色",align:"center"}}),a("el-table-column",{attrs:{label:"创建时间",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-time"}),e._v("\n                "+e._s(t.row.createDate)+"\n            ")]}}])}),a("el-table-column",{attrs:{prop:"status",label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(e.translator(t.row.status,e.roleStatusMap))+"\n            ")]}}])}),a("el-table-column",{attrs:{prop:"remarks",label:"备注",align:"center"}}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{plain:"",type:"info",icon:"el-icon-view"},on:{click:function(a){return e.handleView(t.row)}}},[e._v("查看\n                ")]),a("el-button",{attrs:{plain:"",type:"primary",icon:"el-icon-edit"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("编辑\n                ")]),a("el-button",{attrs:{plain:"",type:t.row.status?"warning":"success",icon:t.row.status?"el-icon-remove-outline":"el-icon-circle-check-outline"},on:{click:function(a){return e.handleStatus(t.row)}}},[e._v("\n                    "+e._s(t.row.status?"禁用":"启用")+"\n                ")])]}}])})],1),a("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{title:e.dialogTitle,center:"",visible:e.dialog,width:"460px"},on:{"update:visible":function(t){e.dialog=t},close:e.closeDialogCallBack}},[a("el-form",{ref:"form",attrs:{model:e.formData,"status-icon":"",rules:e.rules,"label-width":"85px"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitForm(t)}}},[a("el-form-item",{attrs:{label:"角色名称:",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入姓名","auto-complete":"off",disabled:e.isView},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"角色权限:",prop:"authority"}},[a("el-tree",{ref:"tree",attrs:{data:e.menuList,"show-checkbox":"","empty-text":"菜单树为空或后台服务请求失败","node-key":"id","default-checked-keys":e.checkedList,props:e.treeProps},on:{check:e.changeMenuCheck}})],1),a("el-form-item",{attrs:{label:"备注:",prop:"notes"}},[a("el-input",{attrs:{type:"textarea",disabled:e.isView,autosize:{minRows:3,maxRows:3},placeholder:"备注"},model:{value:e.formData.notes,callback:function(t){e.$set(e.formData,"notes",t)},expression:"formData.notes"}})],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialog=!1}}},[e._v("取 消")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.isView,expression:"!isView"}],attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")])],1)],1)],1)},i=[],r=a("a745"),o=a.n(r);function l(e){if(o()(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}var s=a("774e"),c=a.n(s),u=a("c8bb"),d=a.n(u);function f(e){if(d()(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e))return c()(e)}function p(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function h(e){return l(e)||f(e)||p()}var b=a("b6ba"),m=a("ed08"),g=a("1d4b"),v=(a("365c"),{name:"roleManage",data:function(){var e=this,t=function(t,a,n){e.$nextTick(function(){console.log(e.formData.authority),e.formData.authority.length?n():n(new Error("至少选择一项"))})};return{params:{size:100,page:1},roleStatusMap:g["e"],translator:m["m"],dialogTitle:"",dialog:!1,isView:!1,formData:{name:"",authority:[],notes:""},rules:{name:[{required:!0,message:"请输入角色名",trigger:"blur"}],authority:[{required:!0,validator:t,trigger:"change"}]},checkedList:[],rowData:null,menuList:[{id:"1",label:"用户管理",children:[{id:"1-1",label:"前台用户",children:[{id:"1-1-add",label:"增加"},{id:"1-1-view",label:"查看"},{id:"1-1-edit",label:"编辑"},{id:"1-1-delete",label:"删除"}]}]},{id:"2",label:"商户管理",children:[{id:"2-1",label:"商户列表",children:[{id:"2-1-add",label:"增加"},{id:"2-1-view",label:"查看"},{id:"2-1-edit",label:"编辑"},{id:"2-1-delete",label:"删除"}]},{id:"2-2",label:"商户审核",children:[{id:"2-2-add",label:"增加"},{id:"2-2-view",label:"查看"},{id:"2-2-edit",label:"编辑"},{id:"2-2-delete",label:"删除"}]}]},{id:"3",label:"角色管理",children:[{id:"3-add",label:"增加"},{id:"3-view",label:"查看"},{id:"3-edit",label:"编辑"},{id:"3-delete",label:"删除"}]},{id:"4",label:"商品列表",children:[{id:"4-add",label:"增加"},{id:"4-view",label:"查看"},{id:"4-edit",label:"编辑"},{id:"4-delete",label:"删除"}]},{id:"5",label:"资金流水",children:[{id:"5-view",label:"查看"}]}],treeProps:{children:"children",label:"label"}}},computed:{data:function(){return this.$store.state.other.roleList},total:function(){return this.data.length}},watch:{},methods:{handleAdd:function(){this.dialogTitle="新增",this.openDialog()},handleView:function(e){this.dialogTitle="查看",this.isView=!0,this.rowData=e,this.openDialog()},handleEdit:function(e){this.dialogTitle="编辑",this.rowData=e,this.openDialog()},handleStatus:function(e){var t=this,a="";a=e.status?"禁用":"启用",this.$confirm("确定要"+a+"该角色？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.status=!e.status,t.$notify({title:"提示",message:a+"成功",type:"success",duration:800,showClose:!1})})},openDialog:function(){var e=this;this.dialog=!0,this.$nextTick(function(){Object(m["c"])(e.formData,e.rowData),e.checkedList=e.formData.authority})},closeDialogCallBack:function(){var e=this;setTimeout(function(){e.isView=!1,e.rowData=null,e.$refs.tree.setCheckedKeys([]),e.$refs["form"].resetFields(),e.checkedList=e.formData.authority},100)},changeMenuCheck:function(e,t){this.formData.authority=h(t.checkedKeys),this.checkedList=this.formData.authority},submitForm:function(){var e=this;this.$refs["form"].validate(function(t){t&&(e.dialog=!1,e.$notify({title:"提示",message:"提交成功",type:"success",duration:800,showClose:!1}))})}},components:{vTable:b["a"]}}),y=v,w=(a("6be0"),a("2877")),k=Object(w["a"])(y,n,i,!1,null,null,null);t["default"]=k.exports},a745:function(e,t,a){e.exports=a("f410")},aa77:function(e,t,a){var n=a("5ca1"),i=a("be13"),r=a("79e5"),o=a("fdef"),l="["+o+"]",s="​",c=RegExp("^"+l+l+"*"),u=RegExp(l+l+"*$"),d=function(e,t,a){var i={},l=r(function(){return!!o[e]()||s[e]()!=s}),c=i[e]=l?t(f):o[e];a&&(i[a]=c),n(n.P+n.F*l,"String",i)},f=d.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(u,"")),e};e.exports=d},b6ba:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"v-table"},[a("el-table",{attrs:{stripe:"",data:e.data}},[a("el-table-column",{attrs:{label:"序号",type:"index",index:e.getIndex,align:"center"}}),e._t("default")],2),a("el-pagination",{attrs:{"current-page":e.page,"page-size":e.size,layout:e.layout,total:e.total},on:{"current-change":e.currentChange}})],1)},i=[],r=(a("c5f6"),{name:"vTable",props:{data:{type:Array,default:function(){return[]}},total:{type:Number,default:0},loading:{type:Boolean,default:!0},page:{type:Number,default:1},layout:{default:"total, prev, pager, next, jumper"},size:{type:Number,default:10}},data:function(){return{}},methods:{currentChange:function(e){this.$emit("update:page",e),this.$emit("pageChage")},getIndex:function(e){return(this.page-1)*this.size+e+1}}}),o=r,l=(a("3f74"),a("2877")),s=Object(l["a"])(o,n,i,!1,null,null,null);t["a"]=s.exports},c5f6:function(e,t,a){"use strict";var n=a("7726"),i=a("69a8"),r=a("2d95"),o=a("5dbc"),l=a("6a99"),s=a("79e5"),c=a("9093").f,u=a("11e9").f,d=a("86cc").f,f=a("aa77").trim,p="Number",h=n[p],b=h,m=h.prototype,g=r(a("2aeb")(m))==p,v="trim"in String.prototype,y=function(e){var t=l(e,!1);if("string"==typeof t&&t.length>2){t=v?t.trim():f(t,3);var a,n,i,r=t.charCodeAt(0);if(43===r||45===r){if(a=t.charCodeAt(2),88===a||120===a)return NaN}else if(48===r){switch(t.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+t}for(var o,s=t.slice(2),c=0,u=s.length;c<u;c++)if(o=s.charCodeAt(c),o<48||o>i)return NaN;return parseInt(s,n)}}return+t};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof h&&(g?s(function(){m.valueOf.call(a)}):r(a)!=p)?o(new b(y(t)),a,h):y(t)};for(var w,k=a("9e1e")?c(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;k.length>x;x++)i(b,w=k[x])&&!i(h,w)&&d(h,w,u(b,w));h.prototype=m,m.constructor=h,a("2aba")(n,p,h)}},c8bb:function(e,t,a){e.exports=a("54a1")},d2d5:function(e,t,a){a("1654"),a("549b"),e.exports=a("584a").Array.from},f410:function(e,t,a){a("1af6"),e.exports=a("584a").Array.isArray},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-00afb8fa.dd59e365.js.map