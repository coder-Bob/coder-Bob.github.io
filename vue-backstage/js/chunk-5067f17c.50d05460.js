(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5067f17c"],{"34f0":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex-col"},[a("el-form",{staticClass:"query-box",attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"注册日期"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.query.createDate,callback:function(t){e.$set(e.query,"createDate",t)},expression:"query.createDate"}})],1),a("el-form-item",{attrs:{label:"用户状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.query.status,callback:function(t){e.$set(e.query,"status",t)},expression:"query.status"}},e._l(e.userStatusMap,function(e){return a("el-option",{attrs:{label:e.label,value:e.value}})}),1)],1),a("el-form-item",[a("el-input",{attrs:{placeholder:"搜索姓名",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.query.name,callback:function(t){e.$set(e.query,"name",t)},expression:"query.name"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},nativeOn:{click:function(t){return e.search(t)}},slot:"append"})],1)],1)],1),a("v-table",{attrs:{size:e.params.size,page:e.params.page,data:e.table.data,total:e.table.total,loading:e.table.loading},on:{pageChage:e.getData,"update:page":function(t){return e.$set(e.params,"page",t)}}},[a("el-table-column",{attrs:{prop:"name",label:"姓名",align:"center"}}),a("el-table-column",{attrs:{prop:"mobile",label:"手机号",align:"center"}}),a("el-table-column",{attrs:{label:"注册时间",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-time"}),e._v("\n                "+e._s(t.row.createDate)+"\n            ")]}}])}),a("el-table-column",{attrs:{prop:"status",label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(e.translator(t.row.status,e.userStatusMap))+"\n            ")]}}])}),a("el-table-column",{attrs:{prop:"remarks",label:"备注",align:"center"}}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"390"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{plain:"",type:"info",icon:"el-icon-view"},on:{click:function(a){return e.handleView(t.row)}}},[e._v("查看\n                ")]),a("el-button",{attrs:{plain:"",type:"primary",icon:"el-icon-edit"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("编辑\n                ")]),a("el-button",{attrs:{plain:"",type:t.row.status?"warning":"success",icon:t.row.status?"el-icon-remove-outline":"el-icon-circle-check-outline"},on:{click:function(a){return e.handleStatus(t.row)}}},[e._v("\n                    "+e._s(t.row.status?"禁用":"启用")+"\n                ")]),a("el-button",{attrs:{plain:"",type:"danger",icon:"el-icon-refresh"},on:{click:function(a){return e.handleResetPassword(t.row)}}},[e._v("重置密码\n                ")])]}}])})],1),a("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{title:e.dialogTitle,center:"",visible:e.dialog,width:"460px"},on:{"update:visible":function(t){e.dialog=t},close:e.closeDialogCallBack}},[a("el-form",{ref:"form",attrs:{model:e.formData,"status-icon":"",rules:e.rules,"label-width":"85px"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitForm(t)}}},[a("el-form-item",{attrs:{label:"角色:",prop:"role"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formData.role,callback:function(t){e.$set(e.formData,"role",t)},expression:"formData.role"}},e._l(e.roleList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"姓名:",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入姓名","auto-complete":"off",disabled:e.isView},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"手机:",prop:"mobile"}},[a("el-input",{attrs:{placeholder:"请输入手机号","auto-complete":"off",disabled:e.isView},model:{value:e.formData.mobile,callback:function(t){e.$set(e.formData,"mobile",t)},expression:"formData.mobile"}})],1),a("el-form-item",{attrs:{label:"邮箱:",prop:"email"}},[a("el-input",{attrs:{placeholder:"请输入手机号","auto-complete":"off",disabled:e.isView},model:{value:e.formData.email,callback:function(t){e.$set(e.formData,"email",t)},expression:"formData.email"}})],1),a("el-form-item",{attrs:{label:"备注:"}},[a("el-input",{attrs:{type:"textarea",disabled:e.isView,autosize:{minRows:3,maxRows:3},placeholder:"备注"},model:{value:e.formData.notes,callback:function(t){e.$set(e.formData,"notes",t)},expression:"formData.notes"}})],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialog=!1}}},[e._v("取 消")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.isView,expression:"!isView"}],attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")])],1)],1)],1)},r=[],l=a("5176"),o=a.n(l),i=a("b6ba"),s=a("365c"),c=a("ed08"),u=a("1d4b"),f={name:"managerList",data:function(){return{query:{createDate:[],status:"",name:""},table:{data:[],total:0,loading:!1},params:{size:20,page:1},userStatusMap:u["e"],translator:c["m"],dialogTitle:"",dialog:!1,isView:!1,formData:{name:"",mobile:"",role:"",email:"",notes:""},rules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"}],role:[{required:!0,message:"请选择角色",trigger:"change"}],mobile:[{required:!0,message:"请输入手机号",trigger:"blur"},{validator:this.checkMobile,trigger:"blur"}],email:[{type:"email",message:"邮箱格式不正确",trigger:"blur"},{validator:this.checkEmail,trigger:"blur"}]},rowData:null}},created:function(){this.getData()},computed:{roleList:function(){return this.$store.state.other.roleList}},methods:{getData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params;this.table.loading=!0,Object(s["f"])(t).then(function(t){Object(c["i"])(t,function(t){e.table.data=t.data,e.table.total=t.total})}).catch(function(t){throw e.$message({type:"error",message:u["c"]}),Error(t)}).finally(function(){e.table.loading=!1})},search:function(){this.params.page=1,this.getData(o()(this.params,this.query))},handleView:function(e){this.dialogTitle="查看",this.isView=!0,this.rowData=e,this.openDialog()},handleEdit:function(e){this.dialogTitle="编辑",this.rowData=e,this.openDialog()},handleResetPassword:function(e){var t=this;this.$confirm("确定要将该用户密码重置为六个0?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$notify({title:"提示",message:"密码重置成功",type:"success",duration:800,showClose:!1})})},handleStatus:function(e){var t=this,a="";a=e.status?"禁用":"启用",this.$confirm("确定要"+a+"该用户？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.status=!e.status,t.$notify({title:"提示",message:a+"成功",type:"success",duration:800,showClose:!1})})},openDialog:function(){this.dialog=!0,Object(c["c"])(this.formData,this.rowData)},closeDialogCallBack:function(){var e=this;this.$refs["form"].resetFields(),setTimeout(function(){e.formData.notes="",e.isView=!1},200)},checkMobile:function(){},checkEmail:function(){},submitForm:function(){}},components:{vTable:i["a"]}},p=f,m=(a("8e7d"),a("2877")),d=Object(m["a"])(p,n,r,!1,null,null,null);t["default"]=d.exports},"3f61":function(e,t,a){},"3f74":function(e,t,a){"use strict";var n=a("96ff"),r=a.n(n);r.a},"8e7d":function(e,t,a){"use strict";var n=a("3f61"),r=a.n(n);r.a},"96ff":function(e,t,a){},aa77:function(e,t,a){var n=a("5ca1"),r=a("be13"),l=a("79e5"),o=a("fdef"),i="["+o+"]",s="​",c=RegExp("^"+i+i+"*"),u=RegExp(i+i+"*$"),f=function(e,t,a){var r={},i=l(function(){return!!o[e]()||s[e]()!=s}),c=r[e]=i?t(p):o[e];a&&(r[a]=c),n(n.P+n.F*i,"String",r)},p=f.trim=function(e,t){return e=String(r(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(u,"")),e};e.exports=f},b6ba:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"v-table"},[a("el-table",{attrs:{stripe:"",data:e.data}},[a("el-table-column",{attrs:{label:"序号",type:"index",index:e.getIndex,align:"center"}}),e._t("default")],2),a("el-pagination",{attrs:{"current-page":e.page,"page-size":e.size,layout:e.layout,total:e.total},on:{"current-change":e.currentChange}})],1)},r=[],l=(a("c5f6"),{name:"vTable",props:{data:{type:Array,default:function(){return[]}},total:{type:Number,default:0},loading:{type:Boolean,default:!0},page:{type:Number,default:1},layout:{default:"total, prev, pager, next, jumper"},size:{type:Number,default:10}},data:function(){return{}},methods:{currentChange:function(e){this.$emit("update:page",e),this.$emit("pageChage")},getIndex:function(e){return(this.page-1)*this.size+e+1}}}),o=l,i=(a("3f74"),a("2877")),s=Object(i["a"])(o,n,r,!1,null,null,null);t["a"]=s.exports},c5f6:function(e,t,a){"use strict";var n=a("7726"),r=a("69a8"),l=a("2d95"),o=a("5dbc"),i=a("6a99"),s=a("79e5"),c=a("9093").f,u=a("11e9").f,f=a("86cc").f,p=a("aa77").trim,m="Number",d=n[m],g=d,b=d.prototype,h=l(a("2aeb")(b))==m,v="trim"in String.prototype,y=function(e){var t=i(e,!1);if("string"==typeof t&&t.length>2){t=v?t.trim():p(t,3);var a,n,r,l=t.charCodeAt(0);if(43===l||45===l){if(a=t.charCodeAt(2),88===a||120===a)return NaN}else if(48===l){switch(t.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+t}for(var o,s=t.slice(2),c=0,u=s.length;c<u;c++)if(o=s.charCodeAt(c),o<48||o>r)return NaN;return parseInt(s,n)}}return+t};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof d&&(h?s(function(){b.valueOf.call(a)}):l(a)!=m)?o(new g(y(t)),a,d):y(t)};for(var w,k=a("9e1e")?c(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),D=0;k.length>D;D++)r(g,w=k[D])&&!r(d,w)&&f(d,w,u(g,w));d.prototype=b,b.constructor=d,a("2aba")(n,m,d)}},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-5067f17c.50d05460.js.map